https://www.alexedwards.net/blog/making-and-using-middleware